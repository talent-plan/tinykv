=== RUN   TestUnreliable2B
2022/07/15 15:03:18.858988 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2022/07/15 15:03:18.859275 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 2[0m
2022/07/15 15:03:18.859324 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 132.917Âµs[0m
2022/07/15 15:03:18.859576 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2022/07/15 15:03:18.859640 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 3[0m
2022/07/15 15:03:18.859664 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 43.743Âµs[0m
2022/07/15 15:03:18.859873 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2022/07/15 15:03:18.859921 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 4[0m
2022/07/15 15:03:18.859959 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 53.591Âµs[0m
2022/07/15 15:03:18.860137 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2022/07/15 15:03:18.860215 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 5[0m
2022/07/15 15:03:18.860242 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 63.701Âµs[0m
2022/07/15 15:03:18.860414 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2022/07/15 15:03:18.860451 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 >  create peer with ID 1[0m
2022/07/15 15:03:18.860472 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 32.645Âµs[0m
2022/07/15 15:03:19.714408 peer_storage.go:182: [0;37m[info] [region 1] 1 requesting snapshot[0m
2022/07/15 15:03:19.715388 snap.go:549: [0;37m[info] region 1 scan snapshot /tmp/test-raftstore416638963/snap/gen_1_5_5_(default|write|lock).sst, key count 0, size 0[0m
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x89d690]

goroutine 290 [running]:
github.com/pingcap-incubator/tinykv/raft.(*Raft).sendSnapshot(0xc000274500, 0x5)
	/home/faurasol/æ¡Œé¢/fs/tinykv/raft/raft.go:317 +0x110
github.com/pingcap-incubator/tinykv/raft.(*Raft).sendAppend(0xc000274500, 0x5)
	/home/faurasol/æ¡Œé¢/fs/tinykv/raft/raft.go:234 +0x128
github.com/pingcap-incubator/tinykv/raft.(*Raft).handleAppendResponse(0xc000274500, {0x4, 0x1, 0x5, 0xb, 0x0, 0x5, {0x0, 0x0, 0x0}, ...})
	/home/faurasol/æ¡Œé¢/fs/tinykv/raft/raft.go:788 +0x1a5
github.com/pingcap-incubator/tinykv/raft.(*Raft).LeaderStep(0xc000274500, {0x4, 0x1, 0x5, 0xb, 0x0, 0x5, {0x0, 0x0, 0x0}, ...})
	/home/faurasol/æ¡Œé¢/fs/tinykv/raft/raft.go:589 +0x1d8
github.com/pingcap-incubator/tinykv/raft.(*Raft).Step(0xc000274500, {0x4, 0x1, 0x5, 0xb, 0x0, 0x5, {0x0, 0x0, 0x0}, ...})
	/home/faurasol/æ¡Œé¢/fs/tinykv/raft/raft.go:468 +0xf8
github.com/pingcap-incubator/tinykv/raft.(*RawNode).Step(0xc0001ab090, {0x4, 0x1, 0x5, 0xb, 0x0, 0x5, {0x0, 0x0, 0x0}, ...})
	/home/faurasol/æ¡Œé¢/fs/tinykv/raft/rawnode.go:145 +0xdf
github.com/pingcap-incubator/tinykv/kv/raftstore.(*peerMsgHandler).onRaftMsg(0xc0000a3e20, 0xc0001d5280)
	/home/faurasol/æ¡Œé¢/fs/tinykv/kv/raftstore/peer_msg_handler.go:308 +0x33f
github.com/pingcap-incubator/tinykv/kv/raftstore.(*peerMsgHandler).HandleMsg(0xc0000a3e20, {0xc0000a3df0, 0x1, {0xabb940, 0xc0001d5280}})
	/home/faurasol/æ¡Œé¢/fs/tinykv/kv/raftstore/peer_msg_handler.go:153 +0x85
github.com/pingcap-incubator/tinykv/kv/raftstore.(*raftWorker).run(0xc026292f20, 0xc0001452c0, 0x0)
	/home/faurasol/æ¡Œé¢/fs/tinykv/kv/raftstore/raft_worker.go:54 +0x505
created by github.com/pingcap-incubator/tinykv/kv/raftstore.(*Raftstore).startWorkers
	/home/faurasol/æ¡Œé¢/fs/tinykv/kv/raftstore/raftstore.go:269 +0x185
exit status 2
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	0.995s
